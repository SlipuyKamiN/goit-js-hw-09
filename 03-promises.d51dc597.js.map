{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,MAAOC,SAASC,cAAc,kBAC9BC,KAAMF,SAASC,cAAc,iBAC7BE,OAAQH,SAASC,cAAc,mBAC/BG,UAAWJ,SAASC,cAAc,WAGhCI,EAAW,EACXC,EAAQ,EACRC,EAAa,KAEjB,SAASC,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACvBL,EACFI,EAAQ,CAAEE,SAAAR,EAAUV,MAAAW,IAEpBM,EAAO,CAAEC,SAAAR,EAAUV,MAAAW,G,IA+CzBZ,EAAKM,UAAUc,iBAAiB,SA1CP,SAAAC,GACvBA,EAAMC,iBACNd,EAAQe,OAAOvB,EAAKC,MAAMuB,OAC1BpB,KAAOmB,OAAOvB,EAAKI,KAAKoB,OACxBnB,OAASkB,OAAOvB,EAAKK,OAAOmB,OACxBnB,QAAU,GAAKG,EAAQ,GAAKJ,KAAO,EACrCqB,EAAA3B,GAAS4B,OAAOC,QAAS,uCAG3BpB,EAAW,EAEXqB,YAAW,WACTlB,EAAcH,EAAUC,GACrBqB,MAAK,SAAAC,G,IAAGC,EAAQD,EAARX,SAAUa,EAAKF,EAAL7B,MACjBwB,EAAA3B,GAAS4B,OAAOO,QAAQ,sBAAqCC,OAAfH,EAAS,QAAYG,OAANF,EAAM,M,IAEpEG,OAAM,SAAAL,G,IAAGM,EAAQN,EAARX,SAAUkB,EAAKP,EAAL7B,MAClBwB,EAAA3B,GAAS4B,OAAOC,QAAQ,qBAAoCO,OAAfE,EAAS,QAAYF,OAANG,EAAM,M,IAEtE5B,EAAa6B,aAAY,WACnB/B,IAAaF,QAIjBE,GAAY,EACZC,GAASJ,KAETM,EAAcH,EAAUC,GACrBqB,MAAK,SAAAC,G,IAAGS,EAAQT,EAARX,SAAUqB,EAAKV,EAAL7B,MACjBwB,EAAA3B,GAAS4B,OAAOO,QACd,sBAAqCC,OAAfK,EAAS,QAAYL,OAANM,EAAM,M,IAG9CL,OAAM,SAAAL,G,IAAGW,EAAQX,EAARX,SAAUuB,EAAKZ,EAAL7B,MAClBwB,EAAA3B,GAAS4B,OAAOC,QACd,qBAAoCO,OAAfO,EAAS,QAAYP,OAANQ,EAAM,M,KAd9CC,cAAclC,E,GAiBfL,K,GACFI,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  delay: document.querySelector('[name=\"delay\"]'),\n  step: document.querySelector('[name=\"step\"]'),\n  amount: document.querySelector('[name=\"amount\"]'),\n  createBtn: document.querySelector('button'),\n};\n\nlet position = 0;\nlet delay = 0;\nlet intervalId = null;\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n\nconst onCreateBtnClick = event => {\n  event.preventDefault();\n  delay = Number(refs.delay.value);\n  step = Number(refs.step.value);\n  amount = Number(refs.amount.value);\n  if (amount <= 0 || delay < 0 || step < 0) {\n    Notiflix.Notify.failure(` Please input correct values (>=0)`);\n    return;\n  }\n  position = 1;\n\n  setTimeout(() => {\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(` Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(` Rejected promise ${position} in ${delay}ms`);\n      });\n    intervalId = setInterval(() => {\n      if (position === amount) {\n        clearInterval(intervalId);\n        return;\n      }\n      position += 1;\n      delay += step;\n\n      createPromise(position, delay)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            ` Fulfilled promise ${position} in ${delay}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            ` Rejected promise ${position} in ${delay}ms`\n          );\n        });\n    }, step);\n  }, delay);\n};\n\nrefs.createBtn.addEventListener('click', onCreateBtnClick);\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","delay","document","querySelector","step","amount","createBtn","$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$intervalId","$ce04d3a99e08e73b$var$createPromise","position1","delay1","shouldResolve","Math","random","Promise","resolve","reject","position","addEventListener","event","preventDefault","Number","value","$parcel$interopDefault","Notify","failure","setTimeout","then","param","position2","delay2","success","concat","catch","position3","delay3","setInterval","position4","delay4","position5","delay5","clearInterval"],"version":3,"file":"03-promises.d51dc597.js.map"}